<!DOCTYPE html>
<html><head lang="en">
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>æœ¬ç«™æ˜¯å¦‚ä½•æ„å»ºçš„ - Huangh&#39;s blog</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="ä½¿ç”¨ Hugo æ„å»ºåšå®¢çš„ç»éªŒåˆ†äº«ã€‚" />
	<meta property="og:image" content=""/>
	<meta property="og:title" content="æœ¬ç«™æ˜¯å¦‚ä½•æ„å»ºçš„" />
<meta property="og:description" content="ä½¿ç”¨ Hugo æ„å»ºåšå®¢çš„ç»éªŒåˆ†äº«ã€‚" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://h2cone.github.io/2024/05/21/build_this_site/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2024-05-21T20:04:12+08:00" />
<meta property="article:modified_time" content="2024-05-21T20:04:12+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="æœ¬ç«™æ˜¯å¦‚ä½•æ„å»ºçš„"/>
<meta name="twitter:description" content="ä½¿ç”¨ Hugo æ„å»ºåšå®¢çš„ç»éªŒåˆ†äº«ã€‚"/>
<script src="https://h2cone.github.io/js/feather.min.js"></script>
	
	
        <link href="https://h2cone.github.io/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css" rel="stylesheet">
	

	
	<link rel="stylesheet" type="text/css" media="screen" href="https://h2cone.github.io/css/main.ac08a4c9714baa859217f92f051deb58df2938ec352b506df655005dcaf98cc0.css" />
		<link id="darkModeStyle" rel="stylesheet" type="text/css" href="https://h2cone.github.io/css/dark.726cd11ca6eb7c4f7d48eb420354f814e5c1b94281aaf8fd0511c1319f7f78a4.css"  disabled />
	

	
	
		<script type="text/javascript"
		src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
		</script>
	
		
		<script type="text/x-mathjax-config">
		MathJax.Hub.Config({
			tex2jax: {
				inlineMath: [['$','$'], ['\\(','\\)']],
				displayMath: [['$$','$$'], ['\[','\]']],
				processEscapes: true,
				processEnvironments: true,
				skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
				TeX: { equationNumbers: { autoNumber: "AMS" },
						 extensions: ["AMSmath.js", "AMSsymbols.js"] }
			}
		});
		</script>
	

	
	
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css">
		<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js"></script>
		<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
		
		
		<script>
			document.addEventListener("DOMContentLoaded", function() {
					renderMathInElement(document.body, {
							delimiters: [
									{left: "$$", right: "$$", display: true},
									{left: "$", right: "$", display: false}
							]
					});
			});
			</script>
	
	
	
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="https://h2cone.github.io/">Huangh&#39;s blog</a>
	</div>
	<nav>
		
		<a href="/">Home</a>
		
		<a href="/post">Posts</a>
		
		<a href="/tags">Tags</a>
		
		| <span id="dark-mode-toggle" onclick="toggleTheme()"></span>
		<script src="https://h2cone.github.io/js/themetoggle.js"></script>
		
	</nav>
</header>

<main>
	<article>
		<div class="title">
			<h1 class="title">æœ¬ç«™æ˜¯å¦‚ä½•æ„å»ºçš„</h1>
			<div class="meta">Posted on May 21, 2024</div>
		</div>
		

		<section class="body">
			<h2 id="ç¢ç¢å¿µ">ç¢ç¢å¿µ</h2>
<p>è¿™ä¸ªåšå®¢æ˜¯æˆ‘åœ¨å¾ˆä¹…ä»¥å‰å°±æ˜¯å¼€å§‹ç»´æŠ¤äº†ï¼Œæœ€åˆä½¿ç”¨çš„æ˜¯ <a href="https://github.com/gohugoio/hugo">Hugo</a> ç”Ÿæˆçš„é™æ€å†…å®¹å¹¶æ‰˜ç®¡åœ¨ <a href="https://pages.github.com/">GitHub Pages</a> ä¸Šï¼Œé•¿æœŸä½¿ç”¨è¿‡ä¸¤ä¸ªå¤§è€Œå…¨çš„ä¸»é¢˜ï¼Œå¯è§å¤šäº†å®¹æ˜“å®¡ç¾ç–²åŠ³ï¼Œäºæ˜¯å°±å‡†å¤‡èµ°å‘â€œå¤§é“è‡³ç®€â€ï¼›ç”±äºè¿‘æœŸåœ¨å­¦ä¹  Rustï¼Œè¢«ç³»ç»Ÿæ¨èåˆ°å¦ä¸€ä¸ªé™æ€ç«™ç‚¹ç”Ÿæˆå™¨ <a href="https://github.com/getzola/zola">Zola</a>ï¼Œäºæ˜¯å°±å°è¯•äº†ä¸€ä¸‹ä» Hugo è¿ç§»åˆ° Zolaï¼Œä½†æ˜¯ä»¤æˆ‘æ²®ä¸§çš„ä¸ä»…æ˜¯ Zola çš„ä¸»é¢˜ç”Ÿæ€ä¸å¦‚ Hugoï¼Œè€Œæ˜¯ Zola ä½œè€…æ²¡æœ‰è®¡åˆ’æ”¯æŒ<a href="https://github.com/getzola/zola/issues/635">è‡ªå®šä¹‰ URL æ¨¡æ¿</a>æˆ–è€…<a href="https://github.com/getzola/zola/issues/1662">æ·»åŠ ä¸€ä¸ªé€‰é¡¹ä»¥å°†æ—¥æœŸé›†æˆåˆ°è·¯å¾„ä¸­</a>æ²¡é‚£ä¹ˆå¿«å®ç°ï¼›æ˜¾ç„¶æœ¬ç«™çš„åšæ–‡ URL æ˜¯åŒ…å«æ—¥æœŸçš„ï¼Œæš‚æ— ç²¾åŠ›å¤„ç†è¿™ä¸ªè¿ç§»é—®é¢˜ï¼Œäºæ˜¯å°±åˆå›åˆ°äº† Hugoã€‚</p>
<h2 id="å·¥ä½œæµ">å·¥ä½œæµ</h2>
<p>å¥½çš„å·¥ä½œæµå¯ä»¥ç¡®ä¿åšå®¢å¼€å‘å’Œéƒ¨ç½²çš„é«˜æ•ˆå’Œå¯ç»´æŠ¤æ€§ï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥ä¸“æ³¨äºå†…å®¹åˆ›ä½œè€Œä¸æ˜¯å¤æ‚çš„éƒ¨ç½²è¿‡ç¨‹ã€‚</p>
<p><img src="/img/git/my-blog-flow.png" alt="my-blog-workflow"></p>
<ul>
<li>ğŸŸ¢ <code>localhost</code> è¡¨ç¤º<strong>æœ¬åœ°å¼€å‘ç¯å¢ƒ</strong>ã€‚
<ul>
<li>åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šï¼Œä½¿ç”¨ Hugo ç”Ÿæˆå’Œé¢„è§ˆåšå®¢å†…å®¹ã€‚</li>
<li>é€šè¿‡ Hugo çš„æœ¬åœ°æœåŠ¡å™¨æŸ¥çœ‹å’Œè°ƒè¯•åšå®¢ï¼Œç¡®ä¿æ‰€æœ‰å†…å®¹å’Œæ ·å¼éƒ½æ­£ç¡®æ˜¾ç¤ºã€‚</li>
</ul>
</li>
</ul>
<ul>
<li>ğŸŸ¡ <code>https://github.com/&lt;username&gt;/&lt;username&gt;.github.io</code> è¡¨ç¤º <strong>GitHub Pages ä»“åº“</strong>ã€‚
<ul>
<li>è¿™æ˜¯ç”¨äº GitHub Pages éƒ¨ç½²çš„ä»“åº“ã€‚é€šå¸¸å®ƒçš„åå­—ä¸º <code>&lt;username&gt;.github.io</code>ï¼Œå…¶ä¸­ <code>&lt;username&gt;</code> æ˜¯ GitHub ç”¨æˆ·åï¼Œä¾‹å¦‚ <a href="https://github.com/h2cone/h2cone.github.io">https://github.com/h2cone/h2cone.github.io</a></li>
<li>ä»åšå®¢ä¸»ä»“åº“éƒ¨ç½²ï¼ˆ<strong>deploying</strong>ï¼‰ç”Ÿæˆçš„é™æ€æ–‡ä»¶åˆ°è¿™ä¸ªä»“åº“ã€‚å¯ä»¥é€šè¿‡ git submodule æˆ– gh-pages åˆ†æ”¯æ¥æ”¯æŒã€‚</li>
<li>éƒ¨ç½²åï¼ŒGitHub Pages æœåŠ¡ä¼šè‡ªåŠ¨ä»è¿™ä¸ªä»“åº“ä¸­æå–å†…å®¹ï¼Œå¹¶åœ¨ URL <code>https://&lt;username&gt;.github.io</code> ä¸Šæä¾›æœåŠ¡ï¼ˆ<strong>serving</strong>ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<ul>
<li>ğŸŸ£ <code>https://github.com/&lt;username&gt;/&lt;blog&gt;</code> è¡¨ç¤ºåšå®¢<strong>ä¸»ä»“åº“</strong>ã€‚
<ul>
<li>åšå®¢çš„ä¸»è¦æºä»£ç æ‰˜ç®¡åœ¨ GitHub ä»“åº“ä¸­ã€‚è¿™ä¸ªä»“åº“åŒ…å«æ‰€æœ‰åšå®¢æ–‡ç« ã€é…ç½®æ–‡ä»¶å’Œ Hugo æ‰€éœ€çš„å…¶ä»–èµ„æºã€‚è‹¥æ— æƒè®¿é—®åˆ™å¯èƒ½æ˜¯å› ä¸ºä½œè€…å°†å…¶è®¾ç½®ä¸ºç§æœ‰ä»“åº“ï¼Œä¾‹å¦‚ <a href="https://github.com/h2cone/blog">https://github.com/h2cone/blog</a></li>
<li>æœ¬åœ°å¼€å‘å®Œæˆåï¼Œå°†ä¿®æ”¹å†…å®¹åŒæ­¥ï¼ˆ<strong>syncing</strong>ï¼‰åˆ°è¿™ä¸ªä»“åº“ã€‚é€šè¿‡ git push å‘½ä»¤å°†æœ¬åœ°æ›´æ”¹æ¨é€åˆ° GitHub ä»“åº“ã€‚</li>
</ul>
</li>
</ul>
<ul>
<li>ğŸ”µ <code>https://github.com/&lt;username&gt;/&lt;theme&gt;</code> è¡¨ç¤º<strong>ä¸»é¢˜ä»“åº“</strong>ã€‚
<ul>
<li>åšå®¢ä½¿ç”¨çš„ä¸»é¢˜æ‰˜ç®¡åœ¨å¦ä¸€ä¸ª GitHub ä»“åº“ä¸­ï¼Œä¾‹å¦‚ <a href="https://github.com/h2cone/archie">https://github.com/h2cone/archie</a></li>
<li>åšå®¢ä¸»ä»“åº“é€šè¿‡å¼•ç”¨ï¼ˆ<strong>reference to</strong>ï¼‰è¿™ä¸ªä¸»é¢˜ä»“åº“æ¥åº”ç”¨ç‰¹å®šçš„æ ·å¼å’Œå¸ƒå±€ã€‚Hugo ä½¿ç”¨ä¸»é¢˜ä»“åº“ä¸­çš„æ–‡ä»¶æ¥ç”Ÿæˆåšå®¢çš„å¤–è§‚ã€‚</li>
</ul>
</li>
</ul>
<ul>
<li>ğŸ”´ <code>https://&lt;username&gt;.github.io</code> è¡¨ç¤ºåšå®¢<strong>ç«™ç‚¹</strong>ã€‚
<ul>
<li>è¿™æ˜¯å®é™…å¯¹å¤–å±•ç¤ºçš„åšå®¢ç½‘ç«™ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡è¿™ä¸ª URL è®¿é—®éƒ¨ç½²åœ¨ GitHub Pages ä¸Šçš„åšå®¢ï¼Œä¾‹å¦‚ <a href="https://h2cone.github.io">https://h2cone.github.io</a></li>
<li>è¿™ä¸ªç½‘ç«™ç”± GitHub Pages æœåŠ¡æ‰˜ç®¡ï¼Œå†…å®¹æ¥è‡ªäº GitHub Pages ä»“åº“ã€‚</li>
</ul>
</li>
</ul>
<h2 id="å…³é”®æ­¥éª¤">å…³é”®æ­¥éª¤</h2>
<ol>
<li>åœ¨æœ¬åœ°<a href="https://gohugo.io/getting-started/quick-start/">é€šè¿‡ Hugo æ–°å»ºé¡¹ç›®</a>ï¼Œæˆ‘çš„ä¸»ä»“åº“ç›®å½•å¦‚ä¸‹æ‰€ç¤ºï¼š</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">~/projc/blog$ tree -a -L <span style="color:#ae81ff">1</span>
.
â”œâ”€â”€ archetypes
â”œâ”€â”€ assets
â”œâ”€â”€ backup.sh
â”œâ”€â”€ config.toml
â”œâ”€â”€ content
â”œâ”€â”€ data
â”œâ”€â”€ deploy.sh
â”œâ”€â”€ .git
â”œâ”€â”€ .gitignore
â”œâ”€â”€ .gitmodules
â”œâ”€â”€ .hugo_build.lock
â”œâ”€â”€ layouts
â”œâ”€â”€ LICENSE
â”œâ”€â”€ public
â”œâ”€â”€ README.md
â”œâ”€â”€ resources
â”œâ”€â”€ static
â””â”€â”€ themes
</code></pre></div><p>Windows ç”¨æˆ·æ¨èä½¿ç”¨ WSLï¼Œå¯ä»¥åœ¨ Windows ä¸Šå®‰è£… Linux å­ç³»ç»Ÿï¼Œç„¶ååœ¨å­ç³»ç»Ÿä¸­å®‰è£… Hugoï¼Œè¿™æ ·å¯ä»¥å‡å°‘ä¸€äº›éƒ¨ç½²æˆ–è·¨å¹³å°åŒæ­¥éšœç¢ã€‚</p>
<ol start="2">
<li>ä» <a href="https://themes.gohugo.io/">Hugo å®˜æ–¹ä¸»é¢˜åº“</a>é€‰æ‹©ä¸€ä¸ªä½ å–œæ¬¢çš„ä¸»é¢˜ï¼Œçœ‹çœ‹ä¸»é¢˜çš„æ–‡æ¡£äº†è§£å¦‚ä½•ä½¿ç”¨å®ƒï¼Œä¸€èˆ¬éƒ½è¦å¤åˆ¶ä¸€äº›æ–‡ä»¶åˆ°ä½ çš„ä¸»ä»“åº“ä¸­ï¼Œç„¶ååœ¨ <code>config.toml</code> ä¸­é…ç½®ä¸»é¢˜ï¼Œè¿™é‡Œä½¿ç”¨çš„ä¸»é¢˜å«åš archieã€‚</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">~/projc/blog$ tree -a -L <span style="color:#ae81ff">1</span> themes/
themes/
â”œâ”€â”€ archie
â””â”€â”€ .gitkeep
</code></pre></div><p>ä¸ªäººè®¤ä¸ºæœ€ä½³å®è·µæ˜¯å°†ä¸»é¢˜ä½œä¸º <a href="https://git-scm.com/book/en/v2/Git-Tools-Submodules">Git å­æ¨¡å—</a>æ·»åŠ åˆ°ä¸»ä»“åº“ä¸­ï¼Œè¿™æ ·å¯ä»¥æ–¹ä¾¿ç®¡ç†ä¸»é¢˜ç‰ˆæœ¬ï¼Œä¹Ÿå¯ä»¥ä¿æŒä¸»é¢˜å’Œåšå®¢çš„åˆ†ç¦»ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">~/projc/blog$ cat .gitmodules
<span style="color:#f92672">[</span>submodule <span style="color:#e6db74">&#34;themes/archie&#34;</span><span style="color:#f92672">]</span>
        path <span style="color:#f92672">=</span> themes/archie
        url <span style="color:#f92672">=</span> https://github.com/h2cone/archie.git
        branch <span style="color:#f92672">=</span> master
</code></pre></div><p>å¯èƒ½ä¼šå¥½å¥‡ä¸ºä»€ä¹ˆ Fork äº†ä¸»é¢˜ä»“åº“ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘æƒ³è¦é­”æ”¹ä¸»é¢˜ï¼Œä½†æ˜¯åˆä¸æƒ³å—åˆ°ä¸»é¢˜ä½œè€…çš„æ›´æ–°å½±å“ï¼Œæ‰€ä»¥ Fork äº†ä¸€ä¸ªå‰¯æœ¬ï¼Œç„¶ååœ¨å‰¯æœ¬ä¸Šè¿›è¡Œä¿®æ”¹ã€‚</p>
<ol start="3">
<li>æœ¬åœ°å¼€å‘å®Œæˆåï¼Œé€šè¿‡ <code>hugo server</code> å‘½ä»¤å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ï¼Œæ·»åŠ åšæ–‡ï¼ŒæŸ¥çœ‹åšå®¢æ•ˆæœï¼Œè¿™é‡Œçš„åšæ–‡å…¨æ”¾å…¥ content/post ç›®å½•ä¸‹ï¼Œæ¯ç¯‡åšæ–‡éƒ½æœ‰ä¸€ä¸ªå•ç‹¬çš„ç›®å½•ï¼Œç›®å½•åå°±æ˜¯åšæ–‡çš„ URLï¼Œä¾‹å¦‚ content/post/2024/05/21/build_this_site.md</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">~/projc/blog$ tree -a content/post/2024
content/post/2024
â”œâ”€â”€ <span style="color:#ae81ff">01</span>
â”‚Â Â  â””â”€â”€ <span style="color:#ae81ff">31</span>
â”‚Â Â      â””â”€â”€ your-own-chrome-extension.md
â””â”€â”€ <span style="color:#ae81ff">05</span>
    â””â”€â”€ <span style="color:#ae81ff">21</span>
        â””â”€â”€ build_this_site.md
</code></pre></div><p>æ„Ÿè§‰ URL å¤ªé•¿äº†ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹ <code>config.toml</code> ä¸­çš„ <code>permalinks</code> é…ç½®æ¥ç®€åŒ– URLï¼Œä¾‹å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-toml" data-lang="toml">[<span style="color:#a6e22e">permalinks</span>]
  <span style="color:#a6e22e">post</span> = <span style="color:#e6db74">&#39;/:year/:month/:day/:filename/&#39;</span>
</code></pre></div><p>è®¿é—®åšæ–‡çš„ URL å°±å˜æˆäº† 2024/05/21/build_this_siteï¼Œè¿™æ ·çœ‹èµ·æ¥æ›´ç®€æ´ã€‚</p>
<ol start="4">
<li>æœ¬åœ°å¼€å‘å®Œæˆåï¼Œé€šè¿‡ <code>hugo -t</code> å‘½ä»¤ç”Ÿæˆé™æ€æ–‡ä»¶åˆ°ç›®å½• publicï¼Œç„¶åé€šè¿‡ <code>deploy.sh</code> è„šæœ¬å°†ç”Ÿæˆçš„é™æ€æ–‡ä»¶å‘å¸ƒåˆ° GitHub Pages ä»“åº“ä¸­ï¼Œè¿™ä¸ªè„šæœ¬çš„å†…å®¹å¦‚ä¸‹ï¼š</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e">#!/bin/sh
</span><span style="color:#75715e"></span>
<span style="color:#75715e"># If a command fails then the deploy stops</span>
set -e

printf <span style="color:#e6db74">&#34;\033[0;32mDeploying updates to GitHub...\033[0m\n&#34;</span>

<span style="color:#75715e"># Go to public</span>
cd public
git checkout master
git pull origin master

<span style="color:#75715e"># Go to root</span>
cd ..

<span style="color:#75715e"># Build the project</span>
hugo -t archie

<span style="color:#75715e"># Add changes to git</span>
cd public
git add .

<span style="color:#75715e"># Commit changes</span>
msg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;rebuilding site </span><span style="color:#66d9ef">$(</span>date<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
<span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -n <span style="color:#e6db74">&#34;</span>$*<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
	msg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$*<span style="color:#e6db74">&#34;</span>
<span style="color:#66d9ef">fi</span>
git commit -m <span style="color:#e6db74">&#34;</span>$msg<span style="color:#e6db74">&#34;</span> --allow-empty

<span style="color:#75715e"># Push source and build repos</span>
git push origin master
</code></pre></div><p>å‰ææ˜¯ä½ å…ˆåœ¨ GitHub åˆ›å»ºäº† GitHub Pages ä»“åº“ï¼Œå°† public æ·»åŠ ä¸ºä¸»ä»“åº“çš„å­æ¨¡å—ï¼Œè¿™é‡Œä¸»ä»“åº“æ€»å…±å¼•ç”¨äº†ä¸¤ä¸ªå­æ¨¡å—ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">~/projc/blog$ cat .gitmodules
<span style="color:#f92672">[</span>submodule <span style="color:#e6db74">&#34;themes/archie&#34;</span><span style="color:#f92672">]</span>
        path <span style="color:#f92672">=</span> themes/archie
        url <span style="color:#f92672">=</span> https://github.com/h2cone/archie.git
        branch <span style="color:#f92672">=</span> master
<span style="color:#f92672">[</span>submodule <span style="color:#e6db74">&#34;public&#34;</span><span style="color:#f92672">]</span>
        path <span style="color:#f92672">=</span> public
        url <span style="color:#f92672">=</span> git@github.com:h2cone/h2cone.github.io.git
</code></pre></div><ol start="5">
<li>
<p>æŸ¥çœ‹ GitHub Pages ä»“åº“æ˜¯å¦æ­£å¸¸è§¦å‘ <strong>pages build and deployment</strong> è¿è¡Œï¼Œå¦‚æœç±»ä¼¼çš„ GitHub Actions è¿è¡ŒæˆåŠŸï¼Œæ¯”å¦‚ <a href="https://github.com/h2cone/h2cone.github.io/actions">https://github.com/h2cone/h2cone.github.io/actions</a>ï¼Œé‚£ä¹ˆå°±å¯ä»¥é€šè¿‡ <code>https://&lt;username&gt;.github.io</code> è®¿é—®ä½ çš„åšå®¢äº†ã€‚</p>
</li>
<li>
<p>å¤‡ä»½åšå®¢å†…å®¹ï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨äº†ä¸€ä¸ªç®€å•çš„è„šæœ¬ <code>backup.sh</code>ï¼Œå°†åšå®¢ä¸»ä»“åº“æ¨åˆ° GitHubï¼Œè¿™æ ·å³ä½¿æœ¬åœ°ä¸¢å¤±äº†åšå®¢å†…å®¹ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ GitHub ä»“åº“æ¢å¤ã€‚</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e">#!/bin/sh
</span><span style="color:#75715e"></span>
git add .

msg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>date<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
<span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -n <span style="color:#e6db74">&#34;</span>$*<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
	msg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$*<span style="color:#e6db74">&#34;</span>
<span style="color:#66d9ef">fi</span>
git commit -m <span style="color:#e6db74">&#34;</span>$msg<span style="color:#e6db74">&#34;</span> --allow-empty

git push -v
</code></pre></div><h2 id="é‡åˆ°çš„ä¸€äº›å‘">é‡åˆ°çš„ä¸€äº›å‘</h2>
<ul>
<li>WSL å¤„ç†é /home é¡¹ç›®æ€§èƒ½è¾ƒå·®ï¼Ÿå«Œ Hugo æ„å»ºå¤ªæ…¢å› æ­¤å°†é¡¹ç›®ç§»åŠ¨åˆ° /home ç›®å½•ä¸‹ã€‚</li>
<li>åœ¨æˆ‘çš„å¦å¤–ä¸€å°ç¬”è®°æœ¬ç”µè„‘ä¸Š git clone <a href="mailto:git@github.com">git@github.com</a>:h2cone/blog.git åˆ°æœ¬åœ°æ—¶è¿è¡Œ hugo server çœ‹åˆ°ä¸€ç‰‡ç©ºç™½ï¼ŒåŸæ¥æ˜¯æ‰‹åŠ¿ä¸å¯¹ï¼Œæ²¡æœ‰åˆå§‹åŒ–å­æ¨¡å—ï¼Œå¯¼è‡´ä¸»é¢˜æ²¡æœ‰ä¸‹è½½ä¸‹æ¥ï¼Œè§£å†³æ–¹æ³•ï¼š</li>
</ul>
<ol>
<li>git submodule init</li>
<li>rm -rI public/ themes/</li>
<li>git submodule update</li>
</ol>
<ul>
<li>é‡åˆ° error: RPC failed; curl 92 HTTP/2 stream 0 was not closed cleanly: CANCEL (err 8)
<ul>
<li>ç›´æ¥é™çº§ git config &ndash;global http.version HTTP/1.1</li>
</ul>
</li>
</ul>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»äº†æˆ‘æ˜¯å¦‚ä½•æ„å»ºè¿™ä¸ªåšå®¢çš„ï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œå¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œ<del>æ¬¢è¿åœ¨ä¸‹é¢ç•™è¨€</del>ï¼Œè°¢è°¢ï¼</p>
<blockquote>
<p>æœ¬æ–‡é¦–å‘äº https://h2cone.github.io/</p>
</blockquote>

		</section>

		<div class="post-tags">
			
			
			<nav class="nav tags">
				<ul class="tags">
					
					<li><a href="/tags/blog">blog</a></li>
					
					<li><a href="/tags/static-site-generator">static-site-generator</a></li>
					
					<li><a href="/tags/github-pages">github-pages</a></li>
					
					<li><a href="/tags/hugo">hugo</a></li>
					
				</ul>
			</nav>
			
			
		</div>
		</article>
</main>
<footer>
  <div style="display:flex"><a class="soc" href="https://github.com/h2cone" rel="me" title="GitHub"><i data-feather="github"></i></a>
    <a class="border"></a></div>
  <div class="footer-info">
    2024  Â© Huangh&#39;s blog |  <a
      href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
  </div>
</footer>


<script>
  feather.replace()
</script></div>
    </body>
</html>
