<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>proxy on Huangh&#39;s blog</title>
    <link>https://h2cone.github.io/tags/proxy/</link>
    <description>Recent content in proxy on Huangh&#39;s blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>Â© Huangh&#39;s blog</copyright>
    <lastBuildDate>Wed, 29 May 2024 20:35:53 +0800</lastBuildDate><atom:link href="https://h2cone.github.io/tags/proxy/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>é€ ä½ è‡ªå·±çš„ HTTP ä»£ç†</title>
      <link>https://h2cone.github.io/2024/05/29/your-own-http-proxy/</link>
      <pubDate>Wed, 29 May 2024 20:35:53 +0800</pubDate>
      
      <guid>https://h2cone.github.io/2024/05/29/your-own-http-proxy/</guid>
      <description>å‰é¢çš„è¯ æœ€è¿‘åœ¨äº²è¿‘ Rust ç”Ÿæ€ï¼Œæ³¨æ„åˆ° Cloudflare å¼€æºäº†ç”¨äºæ„å»ºå¿«é€Ÿå’Œå¯é ä»¥åŠå¯æ¼”è¿›çš„ç½‘ç»œæœåŠ¡åº“ Pingoraï¼Œäº†è§£äº†â€œæœ€å°‘å¿…è¦çŸ¥è¯†â€åï¼Œå†³å®šå°è¯•åŸºäº Pingora æ„å»º HTTP ä»£ç†æœåŠ¡æ¥ä»£æ›¿ç§æœ‰æœåŠ¡å™¨ä¸Šçš„ Caddyã€‚
å‡†å¤‡å·¥ä½œ è€å¼Ÿæˆ‘çš„æœåŠ¡å™¨é…ç½®æ–‡ä»¶ Caddyfile ç±»ä¼¼äºï¼š
&amp;gt; cat /etc/caddy/Caddyfile :8008 @websockets { header Connection Upgrade header Upgrade websocket path /up } reverse_proxy @websockets :3000 ç®€è¨€ä¹‹ï¼ŒCaddy ä¼šç›‘å¬ç«¯å£ 8008 çš„ HTTP è¯·æ±‚ï¼Œè‹¥è¯·æ±‚å¤´ä¸­åŒ…å« Connection: Upgrade å’Œ Upgrade: websocketï¼Œå¹¶ä¸”è¯·æ±‚ URI ä¸º /upï¼Œåˆ™å°†è¯·æ±‚è½¬å‘åˆ°æœ¬åœ°ç«¯å£ 3000 çš„æœåŠ¡ã€‚æˆ‘ä»¬çŸ¥é“ WebSocket å»ºç«‹è¿æ¥çš„è¿‡ç¨‹ä¸­ä½¿ç”¨äº† HTTPï¼Œé€šè¿‡æ¡æ‰‹åå¯å‡çº§ä¸ºå…¨åŒå·¥ï¼Œå°±å¯ä»¥åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´è¿›è¡ŒåŒå‘æ•°æ®ä¼ è¾“ï¼Œè€Œæ— éœ€æ¯æ¬¡æ•°æ®äº¤æ¢éƒ½å»ºç«‹æ–°çš„è¿æ¥ã€‚
ä¸ºäº†æ–¹ä¾¿è¯•éªŒå…ˆå°†é…ç½®ç®€åŒ–ä¸ºï¼š
:8008 reverse_proxy :3000 ä½¿ç”¨ Cargo æ–°å»ºé¡¹ç›®ï¼š
. â”œâ”€â”€ Cargo.toml â”œâ”€â”€ .gitignore â”œâ”€â”€ README.md â””â”€â”€ src ä½“éªŒè¿‡ Pingora çš„å¿«é€Ÿå¼€å§‹æŒ‡å—çŸ¥é“ Cargo.</description>
    </item>
    
    <item>
      <title>V2Ray &#43; Cloudflare WARP</title>
      <link>https://h2cone.github.io/2023/04/05/proxy_with_warp/</link>
      <pubDate>Wed, 05 Apr 2023 16:22:44 +0800</pubDate>
      
      <guid>https://h2cone.github.io/2023/04/05/proxy_with_warp/</guid>
      <description>ğŸ§± æœ‰ä¸€é˜µå­è®¿é—® OpenAIï¼ˆç°åœ¨æ›´åƒ CloseAIï¼‰ çš„ä¸€äº›åŸŸåç»å¸¸é‡åˆ° Cloudflare çš„ Access Deniedï¼Œä¸€å¼€å§‹å°è¯•æ›´æ¢æœºæˆ¿ IP æ¥ä»£ç†ï¼Œå¯å‡ ä¹æ²¡æœ‰ä¸€ä¸ªä¸åœ¨é»‘åå•ã€‚ä¾¥å¹¸é€šè¿‡å…ˆèµ°ä»£ç†ï¼Œåœ¨ç™»å½•æœ€åä¸€æ­¥åˆ‡æ¢ä¸ºç›´è¿ç»•è¿‡äº†æ•°æ¬¡ï¼Œç›´åˆ°å›½å†…ç»ˆäºå½»åº•è¢«å¢™äº†ã€‚
â“ æ‰“ä¸è¿‡å°±åŠ å…¥å®ƒï¼šæµé‡å‡ºç«™è½¬å‘ Cloudflare ç½‘ç»œã€‚
 åœ¨ VPS ä¸Šå®‰è£… WARPï¼Œä»¥ Debian/Ubuntu ä¸ºä¾‹ï¼š  sudo apt install cloudflare-warp ä»¥æœ¬åœ°ä»£ç†æ¨¡å¼è¿è¡Œ WARP  warp-cli register warp-cli set-mode proxy warp-cli connect warp-cli enable-always-on æµ‹è¯•ä»£ç†æ¨¡å¼  curl ifconfig.me ç•™æ„å‰åæ ‡å‡†è¾“å‡ºçš„åŒºåˆ«ã€‚
export ALL_PROXY=socks5://127.0.0.1:40000 curl ifconfig.me é…ç½® V2Ray  è®¾ç½®è·¯ç”±è§„åˆ™ï¼Œéå›½å†…åŸŸåèµ° WARP ä»£ç†ã€‚
{ &amp;#34;routing&amp;#34;: { &amp;#34;domainStrategy&amp;#34;: &amp;#34;IPIfNonMatch&amp;#34;, &amp;#34;rules&amp;#34;: [ { &amp;#34;type&amp;#34;: &amp;#34;field&amp;#34;, &amp;#34;outboundTag&amp;#34;: &amp;#34;reject&amp;#34;, &amp;#34;ip&amp;#34;: [ &amp;#34;geoip:private&amp;#34; ] }, { &amp;#34;type&amp;#34;: &amp;#34;field&amp;#34;, &amp;#34;outboundTag&amp;#34;: &amp;#34;proxy&amp;#34;, &amp;#34;domain&amp;#34;: [ &amp;#34;geosite:geolocation-!</description>
    </item>
    
  </channel>
</rss>
